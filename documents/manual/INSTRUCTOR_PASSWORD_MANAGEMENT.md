# 강사 관리 - 비밀번호 변경 기능 통합 가이드

## 📋 개요

기존의 **로그인 관리** 메뉴를 **강사 관리**에 통합하여 중복을 제거하고, 한 곳에서 모든 강사 정보를 관리할 수 있도록 개선했습니다.

---

## 🎯 주요 변경사항

### 변경 전:
```
강사 메뉴
├── 강사코드
├── 강사관리 (강사 추가/수정/삭제)
└── 로그인관리 (비밀번호 변경) ← 중복된 강사 목록!
```

### 변경 후:
```
강사 메뉴
├── 강사코드
└── 강사관리 (강사 추가/수정/삭제 + 비밀번호 변경) ✨
```

---

## 🔐 비밀번호 관리 기능

### 접근 권한:
- **주강사만 비밀번호 변경 가능** (1. 주강사)
- 일반 강사는 🔑 버튼이 보이지 않음

### 주강사 목록:
```
황동하 (T-001)
김동현 (T-002)
이래춘 (T-004)
정운표 (T-036)
```

---

## 📱 사용 방법

### 1. 강사 관리 접속
```
좌측 메뉴 → 강사 → 강사관리 클릭
```

### 2. 강사 목록 확인
```
┌──────────┬────────┬────────┬──────────┬──────────┬────────────┬─────────────┬──────────────┐
│ 강사코드 │ 이름   │ 전공   │ 강사역할 │ 강사타입 │ 연락처     │ 이메일      │ 작업         │
├──────────┼────────┼────────┼──────────┼──────────┼────────────┼─────────────┼──────────────┤
│ T-001    │ 황동하 │ ...    │ 주강사   │ 1. 주강사│ ...        │ ...         │ ✏️ 🔑 🗑️    │
│ T-002    │ 김동현 │ ...    │ 주강사   │ 1. 주강사│ ...        │ ...         │ ✏️ 🔑 🗑️    │
│ T-003    │ 신혜승 │ ...    │ 보조강사 │ 2. 보조  │ ...        │ ...         │ ✏️ 🔑 🗑️    │
└──────────┴────────┴────────┴──────────┴──────────┴────────────┴─────────────┴──────────────┘

아이콘 설명:
✏️  = 강사 정보 수정
🔑  = 비밀번호 변경 (주강사만 보임)
🗑️  = 강사 삭제
```

### 3. 비밀번호 변경
```
1. 🔑 아이콘 클릭
2. 비밀번호 변경 모달이 나타남
3. 새 비밀번호 입력 (4자 이상)
4. 비밀번호 확인 입력
5. "변경" 버튼 클릭
```

### 4. 비밀번호 초기화
```
1. 🔑 아이콘 클릭
2. "기본값으로 초기화" 버튼 클릭
3. 비밀번호가 kdt2025로 초기화됨
```

---

## 🎨 비밀번호 변경 모달 UI

```
┌─────────────────────────────────────────────────────────┐
│ 🔑 비밀번호 변경 (주강사 전용)                    ✕    │
├─────────────────────────────────────────────────────────┤
│                                                           │
│ 대상 강사: 신혜승 (T-003)                                │
│ 기본 비밀번호는 kdt2025입니다.                           │
│                                                           │
│ ┌─────────────────────┐  ┌─────────────────────┐       │
│ │ 새 비밀번호 *       │  │ 비밀번호 확인 *     │       │
│ │ [input field]       │  │ [input field]       │       │
│ │ 🔒 영문, 숫자 조합  │  │                     │       │
│ │    4자 이상         │  │                     │       │
│ └─────────────────────┘  └─────────────────────┘       │
│                                                           │
│ [💾 변경]  [🔄 기본값으로 초기화]  [취소]               │
└─────────────────────────────────────────────────────────┘
```

---

## 🔧 기술적 세부사항

### 주강사 권한 체크:
```javascript
function isMainInstructor() {
    const instructor = localStorage.getItem('instructor');
    const instructorData = JSON.parse(instructor);
    return instructorData.instructor_type_type === '1. 주강사';
}
```

### 비밀번호 변경 API:
```javascript
POST /api/auth/change-password
{
  "instructor_code": "T-003",
  "new_password": "새비밀번호"
}
```

### 기본값 초기화:
```javascript
POST /api/auth/change-password
{
  "instructor_code": "T-003",
  "new_password": "kdt2025"
}
```

---

## 📊 강사 관리 테이블 컬럼

| 컬럼 | 설명 | 비고 |
|------|------|------|
| 강사코드 | T-001 형식 | 자동 생성 |
| 이름 | 강사 이름 | 필수 |
| 전공 | 전공 분야 | 선택 |
| 강사역할 | 주강사, 보조강사 등 | instructor_type_name |
| 강사타입 | 1. 주강사, 2. 보조 등 | instructor_type_type |
| 연락처 | 전화번호 | 선택 |
| 이메일 | 이메일 주소 | 선택 |
| 작업 | 수정/비밀번호/삭제 버튼 | 비밀번호는 주강사만 |

---

## ✅ 테스트 시나리오

### 시나리오 1: 주강사로 로그인
```
1. 황동하로 로그인
2. 강사 → 강사관리 클릭
3. 모든 강사에 🔑 버튼 표시 확인 ✅
4. 신혜승의 🔑 버튼 클릭
5. 비밀번호 변경 모달 표시 확인 ✅
6. 새 비밀번호 입력 후 "변경" 클릭
7. "비밀번호가 변경되었습니다" 메시지 확인 ✅
```

### 시나리오 2: 일반 강사로 로그인
```
1. 신혜승으로 로그인 (보조강사)
2. 강사 → 강사관리 클릭
3. 🔑 버튼이 보이지 않음 확인 ✅
4. 본인 정보만 ✏️ 수정 가능
```

### 시나리오 3: 비밀번호 초기화
```
1. 주강사로 로그인
2. 강사 관리 → 🔑 클릭
3. "기본값으로 초기화" 버튼 클릭
4. 확인 메시지 표시
5. "비밀번호가 초기화되었습니다" 확인 ✅
6. 대상 강사는 kdt2025로 로그인 가능
```

### 시나리오 4: 필터링 후 버튼 표시
```
1. 강사 관리 페이지
2. 강사구분 필터: "보조강사" 선택
3. 필터링된 목록에도 🔑 버튼 표시 확인 ✅
4. 검색어: "신혜승" 입력
5. 검색 결과에도 🔑 버튼 표시 확인 ✅
```

---

## 🐛 문제 해결

### Q1: 🔑 버튼이 보이지 않아요
**A:** 주강사로 로그인했는지 확인하세요. 일반 강사는 비밀번호 변경 버튼이 보이지 않습니다.

### Q2: 필터링/검색 시 🔑 버튼이 사라져요
**A:** 이 문제는 수정되었습니다. 브라우저를 새로고침(Ctrl+F5)해주세요.

### Q3: 비밀번호 변경 후에도 이전 비밀번호로 로그인됩니다
**A:** 대상 강사가 이미 로그인된 상태라면, 로그아웃 후 새 비밀번호로 다시 로그인해야 합니다.

### Q4: 비밀번호를 잊어버렸어요
**A:** 주강사에게 요청하여 비밀번호를 초기화(kdt2025)할 수 있습니다.

---

## 🎯 주요 개선 사항 정리

✅ **중복 제거**: 로그인 관리 메뉴 삭제, 강사 관리에 통합
✅ **권한 관리**: 주강사만 비밀번호 변경 가능
✅ **UI 개선**: 화려한 그라데이션 모달
✅ **편의성**: 기본값 초기화 버튼 제공
✅ **필터링 지원**: 검색/필터링 시에도 버튼 표시
✅ **보안**: 비밀번호 4자 이상, 확인 입력 필수

---

## 🌐 접속 URL
```
https://3000-i3oloko346uog7d7oo8v5-3844e1b6.sandbox.novita.ai
```

---

## 📝 기본 비밀번호
```
kdt2025
```

모든 강사의 기본 비밀번호는 **kdt2025**입니다.
