# Cafe24 ì„œë²„ ì—…ë°ì´íŠ¸ ê°€ì´ë“œ v3.2

## âš™ï¸ ìµœì´ˆ ì„¤ì • (í™˜ê²½ ë³€ìˆ˜) - í•œ ë²ˆë§Œ ìˆ˜í–‰

**v3.2ë¶€í„° DB/FTP ì ‘ì† ì •ë³´ê°€ í™˜ê²½ ë³€ìˆ˜ë¡œ ë¶„ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.**

```bash
# 1. Cafe24 ì„œë²„ SSH ì ‘ì†
ssh root@114.202.247.97

# 2. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /root/BH2025_WOWU/backend

# 3. .env íŒŒì¼ ìƒì„± (ìµœì´ˆ 1íšŒë§Œ)
cp .env.example .env

# 4. .env íŒŒì¼ í¸ì§‘ (ì‹¤ì œ ê°’ìœ¼ë¡œ ë³€ê²½)
nano .env
# ë˜ëŠ”
vi .env

# 5. ì €ì¥ í›„ Backend ì¬ì‹œì‘
pm2 restart bhhs-backend
```

**âš ï¸ ì¤‘ìš”: .env íŒŒì¼ì´ ì—†ìœ¼ë©´ ë°±ì—”ë“œê°€ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.**

---

## ğŸš€ ê°„ë‹¨í•œ ì—…ë°ì´íŠ¸ ë°©ë²• (ê¶Œì¥)

### ë°©ë²• 1: ìë™ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© â­

```bash
# 1. Cafe24 ì„œë²„ SSH ì ‘ì†
ssh root@114.202.247.97

# 2. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /root/BH2025_WOWU
# ë˜ëŠ”
cd /var/www/webapp

# 3. ìë™ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (ì›í´ë¦­!)
bash update_server.sh
```

**ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…:**
- âœ… GitHubì—ì„œ ìµœì‹  ì½”ë“œ ë‹¤ìš´ë¡œë“œ (`git pull origin main`)
- âœ… ê¸°ì¡´ Frontend í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
- âœ… Frontend ì¬ì‹œì‘ (í¬íŠ¸ 3000)
- âœ… ì„œë¹„ìŠ¤ ì •ìƒ ì‘ë™ í™•ì¸
- âœ… PWA íŒŒì¼ í™•ì¸ (ì•„ì´ì½˜ 8ê°œ, manifest.json ë“±)
- âœ… Nginx ë¦¬ë¡œë“œ (í•„ìš”ì‹œ)

---

## ğŸ”§ ë°©ë²• 2: ìˆ˜ë™ ì—…ë°ì´íŠ¸ (ë¬¸ì œ ë°œìƒ ì‹œ)

```bash
# 1. ì„œë²„ ì ‘ì†
ssh root@114.202.247.97

# 2. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /root/BH2025_WOWU

# 3. GitHubì—ì„œ ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
git pull origin main

# 4. í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ Frontend í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep python | grep 3000

# 5. Frontend í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
pkill -f "python.*3000"
# ë˜ëŠ” PM2 ì‚¬ìš© ì‹œ
pm2 delete frontend-server

# 6. Frontend ì¬ì‹œì‘
cd /root/BH2025_WOWU/frontend
nohup python3 -m http.server 3000 --bind 0.0.0.0 > /tmp/frontend.log 2>&1 &

# 7. í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep python | grep 3000

# 8. ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸
curl http://localhost:3000/
curl http://localhost:3000/manifest.json
curl -I http://localhost:3000/woosong-logo.png

# 9. Nginx ë¦¬ë¡œë“œ (í•„ìš”ì‹œ)
nginx -t
systemctl reload nginx
```

---

## ğŸ” ì—…ë°ì´íŠ¸ í›„ í™•ì¸ ì‚¬í•­

### 1. ì›¹ì‚¬ì´íŠ¸ ì ‘ì† í…ŒìŠ¤íŠ¸
```bash
# ë¡œì»¬ ì ‘ì†
curl http://localhost:3000/

# ì™¸ë¶€ ì ‘ì† (IP)
curl http://114.202.247.97/

# ë„ë©”ì¸ ì ‘ì† (ì„¤ì •ëœ ê²½ìš°)
curl http://kdt2025.com/
```

### 2. v3.2 ì‹ ê·œ íŒŒì¼ í™•ì¸
```bash
cd /root/BH2025_WOWU/frontend

# ìš°ì†¡ëŒ€í•™êµ ë¡œê³  í™•ì¸ (v3.2 ì‹ ê·œ ì¶”ê°€)
ls -lh woosong-logo.png

# README.md ë²„ì „ í™•ì¸
grep "v3.2" ../README.md

# index.html ë²„ì „ í™•ì¸
grep "v3.2" index.html
```

### 3. ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸
1. **ë²„ì „ í™•ì¸**: http://114.202.247.97/ ì ‘ì† â†’ í—¤ë”ì— "KDTêµìœ¡ê´€ë¦¬ì‹œìŠ¤í…œ v3.2" í‘œì‹œ
2. **ë¡œê³  í™•ì¸**: í—¤ë” ì¢Œì¸¡ ìƒë‹¨ì— ìš°ì†¡ëŒ€í•™êµ ê³µì‹ ë¡œê³  ì´ë¯¸ì§€ í‘œì‹œ
3. **ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**:
   - ê°•ì‚¬ê´€ë¦¬ â†’ ì´ë¦„ìˆœ ì •ë ¬ í™•ì¸
   - í•™ìƒê´€ë¦¬ â†’ 5ê°€ì§€ ì •ë ¬ ì˜µì…˜ í™•ì¸
   - ìƒë‹´ê´€ë¦¬ â†’ í•™ìƒ ì„ íƒ ë“œë¡­ë‹¤ìš´ ìƒì„¸ ì •ë³´ í™•ì¸
   - ì•Œë¦¼ ë©”ì‹œì§€ â†’ 3ì´ˆ í›„ ìë™ ìˆ¨ê¹€ í™•ì¸

---

## ğŸ“± v3.2 ì£¼ìš” ë³€ê²½ì‚¬í•­

### âœ¨ ìƒˆë¡œìš´ ê¸°ëŠ¥
1. **í™˜ê²½ ë³€ìˆ˜ë¡œ ë³´ì•ˆ ê°•í™” ğŸ”** (ì¤‘ìš”!)
   - DB/FTP ì ‘ì† ì •ë³´ë¥¼ `.env` íŒŒì¼ë¡œ ë¶„ë¦¬
   - ì½”ë“œì—ì„œ ë¯¼ê° ì •ë³´ ì œê±°
   - `.env.example` í…œí”Œë¦¿ ì œê³µ
   - **ìµœì´ˆ ì„¤ì • í•„ìš”**: `backend/.env` íŒŒì¼ ìƒì„± í•„ìˆ˜

2. **ìš°ì†¡ëŒ€í•™êµ ê³µì‹ ë¡œê³ **
   - íŒŒì¼: `woosong-logo.png` (616x295, 15KB)
   - ìœ„ì¹˜: í—¤ë” ì¢Œì¸¡ ìƒë‹¨

3. **ê°•ì‚¬ê´€ë¦¬ í•„í„° ê°œì„ **
   - ì •ë ¬: ì´ë¦„ìˆœ (ê¸°ë³¸) / ê°•ì‚¬ì½”ë“œìˆœ
   - ê²€ìƒ‰ í•„ë“œ ìë™ì™„ì„± ì°¨ë‹¨
   - ì´ˆê¸° ë¡œë”© ì‹œ ì´ë¦„ìˆœ ì •ë ¬

4. **í•™ìƒê´€ë¦¬ í•„í„° ê°•í™”**
   - 5ê°€ì§€ ì •ë ¬: ì´ë¦„ìˆœ/ê³¼ì •ìˆœ/ìº í¼ìŠ¤ìˆœ/ìµœì¢…í•™êµìˆœ/ìƒë…„ì›”ì¼ìˆœ
   - ê³¼ì • í•„í„° ë“œë¡­ë‹¤ìš´

4. **í•™ìƒ ì„ íƒ ë“œë¡­ë‹¤ìš´ ì •ë³´ ê°•í™”**
   - í‘œì‹œ í˜•ì‹: `ì´ë¦„(ì½”ë“œ) - ê³¼ì •ëª… - ìƒë…„ì›”ì¼ - ìµœì¢…í•™êµ`
   - ì ìš©: íŒ€ê´€ë¦¬, ìƒë‹´ê´€ë¦¬

5. **ì‚¬ì§„ ì•„ì´ì½˜ ìœ„ì¹˜ í†µì¼**
   - ëª¨ë“  í…Œì´ë¸” ì²« ë²ˆì§¸ ì»¬ëŸ¼ì— ë°°ì¹˜

6. **ì•Œë¦¼ ë©”ì‹œì§€ ìë™ ìˆ¨ê¹€**
   - ëª¨ë“  Alert 3ì´ˆ í›„ ìë™ ë‹«í˜

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: Git pull ì‹¤íŒ¨
```bash
# ë¡œì»¬ ë³€ê²½ì‚¬í•­ í™•ì¸
git status

# ë¡œì»¬ ë³€ê²½ì‚¬í•­ ë²„ë¦¬ê¸° (ì£¼ì˜!)
git reset --hard HEAD
git pull origin main

# ë˜ëŠ” ë¡œì»¬ ë³€ê²½ì‚¬í•­ ë°±ì—… í›„ pull
git stash
git pull origin main
git stash pop
```

### ë¬¸ì œ 2: Frontend ì‹œì‘ ì‹¤íŒ¨
```bash
# ë¡œê·¸ í™•ì¸
tail -f /tmp/frontend.log

# í¬íŠ¸ 3000 ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i :3000
netstat -tulpn | grep 3000

# ê°•ì œ ì¢…ë£Œ í›„ ì¬ì‹œì‘
fuser -k 3000/tcp
cd /root/BH2025_WOWU/frontend
nohup python3 -m http.server 3000 --bind 0.0.0.0 > /tmp/frontend.log 2>&1 &
```

### ë¬¸ì œ 3: ë¸Œë¼ìš°ì €ì—ì„œ ë³€ê²½ì‚¬í•­ì´ ì•ˆ ë³´ì„
```bash
# ë¸Œë¼ìš°ì € ê°•ì œ ìƒˆë¡œê³ ì¹¨
# Chrome: Ctrl + Shift + R (Windows/Linux)
# Chrome: Cmd + Shift + R (Mac)
# Safari: Cmd + Option + R

# ë˜ëŠ” ë¸Œë¼ìš°ì € ìºì‹œ ì™„ì „ ì‚­ì œ
# Chrome: ì„¤ì • â†’ ê°œì¸ì •ë³´ ë° ë³´ì•ˆ â†’ ì¸í„°ë„· ì‚¬ìš© ê¸°ë¡ ì‚­ì œ
```

### ë¬¸ì œ 4: Nginx ì„¤ì • ì˜¤ë¥˜
```bash
# Nginx ì„¤ì • í…ŒìŠ¤íŠ¸
nginx -t

# Nginx ì¬ì‹œì‘
systemctl restart nginx

# Nginx ë¡œê·¸ í™•ì¸
tail -f /var/log/nginx/error.log
tail -f /var/log/nginx/access.log
```

### ë¬¸ì œ 5: Backend DB ì—°ê²° ì‹¤íŒ¨ (v3.2 í™˜ê²½ ë³€ìˆ˜ ì´ìŠˆ)
```bash
# .env íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -la /root/BH2025_WOWU/backend/.env

# .env íŒŒì¼ì´ ì—†ìœ¼ë©´ ìƒì„±
cd /root/BH2025_WOWU/backend
cp .env.example .env
nano .env  # ì‹¤ì œ ê°’ìœ¼ë¡œ í¸ì§‘

# .env íŒŒì¼ ë‚´ìš© í™•ì¸ (ë¹„ë°€ë²ˆí˜¸ ì œì™¸)
cat .env | grep -v PASSWORD

# Backend ì¬ì‹œì‘
pm2 restart bhhs-backend

# Backend ë¡œê·¸ í™•ì¸
pm2 logs bhhs-backend --nostream

# DB ì—°ê²° í…ŒìŠ¤íŠ¸
curl http://localhost:8000/health
```

### ë¬¸ì œ 6: ë¡œê³  ì´ë¯¸ì§€ê°€ ì•ˆ ë³´ì„
```bash
# íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -lh /root/BH2025_WOWU/frontend/woosong-logo.png

# íŒŒì¼ ê¶Œí•œ í™•ì¸
chmod 644 /root/BH2025_WOWU/frontend/woosong-logo.png

# ì§ì ‘ ì ‘ì† í…ŒìŠ¤íŠ¸
curl -I http://localhost:3000/woosong-logo.png
```

---

## ğŸ“Š ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

### í”„ë¡œì„¸ìŠ¤ ìƒíƒœ
```bash
# Frontend í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep python | grep 3000

# Backend í”„ë¡œì„¸ìŠ¤ í™•ì¸ (PM2 ì‚¬ìš© ì‹œ)
pm2 list

# Nginx ìƒíƒœ í™•ì¸
systemctl status nginx
```

### ë„¤íŠ¸ì›Œí¬ ìƒíƒœ
```bash
# ì—´ë ¤ìˆëŠ” í¬íŠ¸ í™•ì¸
netstat -tulpn | grep -E '(80|3000|8000)'

# ë°©í™”ë²½ ì„¤ì • í™•ì¸
iptables -L -n | grep -E '(80|3000|8000)'
```

### ë””ìŠ¤í¬ ìš©ëŸ‰ í™•ì¸
```bash
# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰
df -h

# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ í¬ê¸°
du -sh /root/BH2025_WOWU
```

---

## ğŸ¯ í˜„ì¬ ì„œë²„ êµ¬ì„±

### ì„œë²„ ì •ë³´
- **IP**: 114.202.247.97
- **ë„ë©”ì¸**: kdt2025.com (ì„¤ì •ëœ ê²½ìš°)
- **OS**: Linux (Cafe24 ì„œë²„)
- **ì›¹ì„œë²„**: Nginx (í¬íŠ¸ 80)

### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
/root/BH2025_WOWU/
â”œâ”€â”€ backend/              # FastAPI ë°±ì—”ë“œ (í¬íŠ¸ 8000)
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ .env
â”œâ”€â”€ frontend/             # í”„ë¡ íŠ¸ì—”ë“œ (í¬íŠ¸ 3000)
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ app.js
â”‚   â”œâ”€â”€ woosong-logo.png  # v3.2 ì‹ ê·œ ì¶”ê°€
â”‚   â””â”€â”€ proxy-server.cjs
â”œâ”€â”€ update_server.sh      # ìë™ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ README.md             # v3.2 ì—…ë°ì´íŠ¸ë¨
```

### í¬íŠ¸ ì„¤ì •
- **80**: Nginx (ì™¸ë¶€ ì ‘ì†)
- **3000**: Frontend (Python HTTP Server)
- **8000**: Backend API (FastAPI/Uvicorn)

### í”„ë¡ì‹œ ì„¤ì • (Nginx)
```nginx
# Frontend
location / {
    proxy_pass http://localhost:3000;
}

# Backend API
location /api/ {
    proxy_pass http://localhost:8000;
}
```

---

## ğŸ“ ì¶”ê°€ ì§€ì›

### GitHub ì €ì¥ì†Œ
- **URL**: https://github.com/Emmett6401/BH2025_WOWU
- **Branch**: main (í”„ë¡œë•ì…˜)
- **Branch**: temp (ê°œë°œ)

### ì—…ë°ì´íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] SSH ì ‘ì† í™•ì¸
- [ ] Git pull ì„±ê³µ
- [ ] Frontend ì¬ì‹œì‘
- [ ] ë¸Œë¼ìš°ì €ì—ì„œ v3.2 í‘œì‹œ í™•ì¸
- [ ] ìš°ì†¡ëŒ€í•™êµ ë¡œê³  í‘œì‹œ í™•ì¸
- [ ] ê°•ì‚¬ê´€ë¦¬ ì •ë ¬ ê¸°ëŠ¥ í™•ì¸
- [ ] í•™ìƒê´€ë¦¬ í•„í„° ê¸°ëŠ¥ í™•ì¸
- [ ] ì•Œë¦¼ ë©”ì‹œì§€ ìë™ ìˆ¨ê¹€ í™•ì¸

### ê¸´ê¸‰ ë¡¤ë°± (ë¬¸ì œ ë°œìƒ ì‹œ)
```bash
# ì´ì „ ì»¤ë°‹ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°
cd /root/BH2025_WOWU
git log --oneline -5
git reset --hard <ì´ì „_ì»¤ë°‹_í•´ì‹œ>

# Frontend ì¬ì‹œì‘
pkill -f "python.*3000"
cd frontend
nohup python3 -m http.server 3000 --bind 0.0.0.0 > /tmp/frontend.log 2>&1 &
```

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-17  
**ë²„ì „**: 3.2  
**ë¬¸ì„œ ì‘ì„±ì**: GenSpark AI Assistant
